<template>
  <require from="./book-list"></require>
  <require from="./heading.html"></require>
  <require from="./book-stats"></require>
  <heading text.bind="'books'"></heading>
  <div class="card">
    <div class="card-block">
      <form submit.trigger='addBook()'>
        <label for="book-title"></label>

        <input class="form-control" 
          value.bind="bookTitle" 
          id="book-title" 
          type="text" 
          placeholder="book title..." />  
          <!-- blur.trigger="refreshSignal()" -->
        <input class="btn btn-success tap-right" 
          type="submit" 
          value="add" 
          disabled.one-way="canAdd"/>
          <!-- & signal: 'can-add-signal' -->
        <hr/>
        <book-list if.bind="books.length > 0
                      && genres.length > 0 
                      && shelves.length > 0" 
            shelves.bind="shelves" 
            genres.bind="genres" 
            books.bind="books" ></book-list>
      </form>
    </div>
  </div>
  <book-stats if.bind="books.length > 0" 
        books.bind="books" >
  </book-stats>
</template>
